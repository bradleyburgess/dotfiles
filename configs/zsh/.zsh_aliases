#!/bin/zsh

alias ll='ls -lah'
alias publicip='dig +short myip.opendns.com @resolver1.opendns.com'
alias reboot='systemctl reboot'
alias shutdown='systemctl shutdown'
alias suspend='systemctl suspend'

function npmlatest() {
  npm show $1 | grep latest
}

function dockerip() {
  docker inspect -f '{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}' $1
}

function dropbox() {
  if [[ -z $1 ]]
  then
    echo "No arguments supplied."
    return 1
  fi
  docker exec -it dropbox_personal dropbox "$@"
}

function tmn() {
  if [[ $1 = "" ]]
  then
    tmux new-session
  elif [[ $1 = "." ]]
  then
    tmux new-session -s ${PWD##*/}
  else
    tmux new-session -s $1
  fi
}

alias tml='tmux list-sessions'

function tmuxadmin() {
  if [[ -n $(tmux list-sessions | grep "admin") ]]
  then
    tmux attach-session -t admin
  else
    tmux new-session -d -s admin
    tmux rename-window -t admin:1 htop
    tmux select-window -t admin:1
    tmux send -t admin:1 htop ENTER
    tmux attach -t admin
  fi
}
